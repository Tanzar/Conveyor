(function(e,i){typeof exports=="object"&&typeof module<"u"?i(exports,require("axios"),require("laravel-echo")):typeof define=="function"&&define.amd?define(["exports","axios","laravel-echo"],i):(e=typeof globalThis<"u"?globalThis:e||self,i(e.Conveyor={},e.axios,e["laravel-echo"]))})(this,function(e,i,d){"use strict";class l{#e;#o=!1;constructor(c,t,o,s=()=>{}){if(typeof o=="function"){const a=new URLSearchParams(t).toString(),u="/conveyor/join/"+c+"?"+a;i.get(u).then(r=>{this.#e=r.data.channel,o(r.data.state),window.Echo.private(r.data.channel).listen(".conveyor.updated",y=>{o(y.data)}),this.#o=!0}).catch(r=>{typeof s!="function"&&s(r)})}else console.log("Conveyor error: handle must be function")}destroyed(){this.#o&&d.leave(this.#e)}}function f(n,c,t,o){return new l(n,c,t,o)}const v={install(n,c){const t=(o,s,a,u)=>f(o,s,a,u);parseInt(n.version)>2?n.provide("conveyor",t):n.mixin({methods:{conveyor:t}})}};e.ConveyorVue=v,e.conveyor=f,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});
