(function(e,n){typeof exports=="object"&&typeof module<"u"?n(exports,require("axios"),require("laravel-echo")):typeof define=="function"&&define.amd?define(["exports","axios","laravel-echo"],n):(e=typeof globalThis<"u"?globalThis:e||self,n(e.Conveyor={},e.axios,e["laravel-echo"]))})(this,function(e,n,s){"use strict";class f{#e;#n=!1;constructor(i,a,t,c=()=>{}){if(typeof t=="function"){const d=new URLSearchParams(a).toString(),l="/conveyor/join/"+i+"?"+d;n.get(l).then(o=>{this.#e=o.data.channel,t(o.data.state),window.Echo.private(o.data.channel).listen(".conveyor.updated",h=>{t(h.data)}),this.#n=!0}).catch(o=>{typeof c!="function"&&c(o)})}else console.log("Conveyor error: handle must be function")}destroyed(){this.#n&&s.leave(this.#e)}}function u(r,i,a,t){return new f(r,i,a,t)}e.newConveyor=u,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});
